<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Estilos -->
  <link rel="stylesheet" href="../../assets/css/main_ex.css" />
  <link rel="stylesheet" href="../../assets/css/sidebar.css" />
  <link rel="stylesheet" href="../../assets/css/ProgressBar.css" />
  <link rel="stylesheet" href="../../assets/css/ex1.css" />


  <!-- Scripts -->
  <script src="../../js/sidebar.js" defer></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>

<body>
    <button class="back-page-btn" onclick="backPage()">
        <span class="arrow">❮</span>
    </button>
    <nav id="sidebar" class="close">
        <div id="logo-seccion">
            <a href="../../index">
                <img src="../../assets/images/logo_blanco.png" height="10px" alt="logo">
            </a>
            <button id="toggle-btn">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000">
                    <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z" />
                </svg>
            </button>
        </div>
        <div id="barra">
            <span id="barra-titulo"><strong>Progreso del Curso</strong></span>
            <div id="progreso-container">
                <div id="progreso-barra"></div>
                <span id="progreso-texto">0%</span>
            </div>
        </div>
        <div id="menu-container"></div>
    </nav>


  <!-- Logo inferior -->
  <div class="logo-container"><img src="../../assets/images/logo_color.png" alt="Logo AngloAmerican" class="logo" /></div>
  <!-- Título principal -->
  <header><h1 class="titulo-epp"><span class="gradient-text2">Implementos de la Grúa Articulada y Accesorios</span></h1></header>

  <!-- Contenido principal -->
<style>
  .grua-container {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

    padding: 10px;
    border-radius: 8px;
    max-width: 100%;
    box-sizing: border-box;
  }

  .grua-title {
    background: linear-gradient(90deg, #FF0000, #351EBD, #3479F6, #1F87C6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: clamp(1.5rem, 4vw, 2.2rem);
    font-weight: bold;
    text-align: center;
    margin: 0 0 10px 0;
    padding: 5px;
  }

  .grua-main-content {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .grua-diagram-section {
    background: #FFFFFF;
    border: 2px solid #DDE8F5;
    border-radius: 8px;
    padding: 10px;
    position: relative;
    overflow: hidden;
  }

  .grua-svg-container {
    width: 100%;
    height: auto;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 300px;
    position: relative;
  }

  .grua-svg {
    max-width: 100%;
    max-height: 400px;
    width: auto;
    height: auto;
  }

  .grua-component {
    cursor: pointer;
    transition: all 0.3s ease;
    stroke-width: 2;
  }

  .grua-component:hover {
    filter: drop-shadow(0 0 8px rgba(3, 23, 148, 0.6));
    transform: scale(1.05);
  }

  .grua-component.active {
    filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.8));
    transform: scale(1.1);
  }

  .grua-info-panel {
    background: #E5F0F9;
    border: 2px solid #6B8BDF;
    border-radius: 8px;
    padding: 10px;
    min-height: 120px;
  }

  .grua-info-title {
    color: #031794;
    font-size: clamp(1.1rem, 3vw, 1.4rem);
    font-weight: bold;
    margin: 0 0 8px 0;
  }

  .grua-info-description {
    color: #4D4D4E;
    font-size: clamp(0.9rem, 2.5vw, 1rem);
    line-height: 1.5;
    margin: 0;
  }

  .grua-components-list {
    background: #FFFFFF;
    border: 1px solid #DDE8F5;
    border-radius: 8px;
    padding: 10px;
    margin-top: 10px;
  }

  .grua-list-title {
    color: #031794;
    font-size: clamp(1rem, 2.8vw, 1.2rem);
    font-weight: bold;
    margin: 0 0 8px 0;
  }

  .grua-component-item {
    display: flex;
    align-items: center;
    /* padding: 6px 8px;
    margin: 2px 0; */
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid transparent;
  }

  .grua-component-item:hover {
    background: #E5F0F9;
    border-color: #6B8BDF;
    transform: translateX(4px);
  }

  .grua-component-item.active {
    background: linear-gradient(90deg, #031794, #34C0C0);
    color: #FFFFFF;
    transform: translateX(8px);
  }

  .grua-component-number {
    background: #031794;
    color: #FFFFFF;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
    margin-right: 8px;
    flex-shrink: 0;
  }

  .grua-component-item.active .grua-component-number {
    background: #FFFFFF;
    color: #031794;
  }

  .grua-component-name {
    font-size: clamp(0.85rem, 2.2vw, 0.95rem);
    font-weight: 500;
  }

  .grua-reset-btn {
    background: linear-gradient(90deg, #FF0000, #351EBD, #3479F6, #1F87C6);
    color: #FFFFFF;
    border: none;
    padding: 8px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: clamp(0.9rem, 2.5vw, 1rem);
    transition: transform 0.3s ease;
    margin-top: 10px;
    width: 100%;
  }

  .grua-reset-btn:hover {
    transform: translateY(-2px);
  }

  @media (min-width: 768px) {
    .grua-main-content {
      flex-direction: row;
      gap: 10px;
    }

    .grua-diagram-section {
      flex: 2;
    }

    .grua-info-components {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .grua-svg-container {
      min-height: 450px;
    }
  }

  @media (min-width: 1200px) {
    .grua-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .grua-svg-container {
      min-height: 500px;
    }
  }
</style>

<div class="grua-container">

  
  <div class="grua-main-content">
    <div class="grua-diagram-section">
        <img src="../../assets/images/M2/Ax.png" alt="">
    </div>
    
    <div class="grua-info-components">
      <div class="grua-info-panel">
        <h3 class="grua-info-title" id="info-title">Selecciona un componente</h3>
        <p class="grua-info-description" id="info-description">Haz clic en cualquier elemento del diagrama o en la lista para conocer más detalles sobre cada componente de la grúa articulada.</p>
      </div>
      
      <div class="grua-components-list">
        <h4 class="grua-list-title">Componentes</h4>
        <div class="grua-component-item" data-component="0">
          <div class="grua-component-number">1</div>
          <div class="grua-component-name">Cilindros Estabilizadores</div>
        </div>
        <div class="grua-component-item" data-component="1">
          <div class="grua-component-number">2</div>
          <div class="grua-component-name">Soportes Estabilizadores</div>
        </div>
        <div class="grua-component-item" data-component="2">
          <div class="grua-component-number">3</div>
          <div class="grua-component-name">Traviesa de Guía</div>
        </div>
        <div class="grua-component-item" data-component="3">
          <div class="grua-component-number">4</div>
          <div class="grua-component-name">Base</div>
        </div>
        <div class="grua-component-item" data-component="4">
          <div class="grua-component-number">5</div>
          <div class="grua-component-name">Platillo</div>
        </div>
        <div class="grua-component-item" data-component="5">
          <div class="grua-component-number">6</div>
          <div class="grua-component-name">Columna</div>
        </div>
        <div class="grua-component-item" data-component="6">
          <div class="grua-component-number">7</div>
          <div class="grua-component-name">Cilindro Principal</div>
        </div>
        <div class="grua-component-item" data-component="7">
          <div class="grua-component-number">8</div>
          <div class="grua-component-name">Brazo Principal</div>
        </div>
        <div class="grua-component-item" data-component="8">
          <div class="grua-component-number">9</div>
          <div class="grua-component-name">Cilindro Secundario</div>
        </div>
        <div class="grua-component-item" data-component="9">
          <div class="grua-component-number">10</div>
          <div class="grua-component-name">Brazo Secundario</div>
        </div>
        <div class="grua-component-item" data-component="10">
          <div class="grua-component-number">11</div>
          <div class="grua-component-name">Brazos Extensibles</div>
        </div>
        <div class="grua-component-item" data-component="11">
          <div class="grua-component-number">12</div>
          <div class="grua-component-name">Cilindros de Brazos Extensibles</div>
        </div>
        <div class="grua-component-item" data-component="12">
          <div class="grua-component-number">13</div>
          <div class="grua-component-name">Prolonga Manual</div>
        </div>
        <div class="grua-component-item" data-component="13">
          <div class="grua-component-number">14</div>
          <div class="grua-component-name">Prolonga Hidráulica</div>
        </div>
        <div class="grua-component-item" data-component="14">
          <div class="grua-component-number">15</div>
          <div class="grua-component-name">Estabilizador Suplementario</div>
        </div>
        <div class="grua-component-item" data-component="15">
          <div class="grua-component-number">16</div>
          <div class="grua-component-name">Sistema Cabrestante</div>
        </div>
        
        <button class="grua-reset-btn" id="reset-btn">Restablecer Vista</button>
      </div>
    </div>
  </div>

  <div style="margin-bottom: 80px;"></div>
</div>

<script>
const componentInfo = {
  0: {
    title: "Cilindros Estabilizadores",
    description: "Elementos hidráulicos que proporcionan estabilidad lateral a la grúa durante las operaciones de elevación. Se extienden hacia los lados para crear una base más amplia y segura, distribuyendo el peso y las fuerzas de manera uniforme."
  },
  1: {
    title: "Soportes Estabilizadores", 
    description: "Estructuras triangulares que actúan como puntos de apoyo adicionales en el suelo. Trabajan en conjunto con los cilindros estabilizadores para crear una plataforma estable y reducir la presión sobre el terreno."
  },
  2: {
    title: "Traviesa de Guía",
    description: "Elemento estructural que conecta y guía el movimiento de los estabilizadores. Proporciona rigidez estructural y asegura que los movimientos de estabilización sean coordinados y precisos."
  },
  3: {
    title: "Base",
    description: "Estructura principal que soporta todo el peso de la grúa y distribuye las cargas hacia el suelo. Es el elemento fundamental sobre el cual se monta toda la superestructura de la grúa articulada."
  },
  4: {
    title: "Platillo",
    description: "Elemento circular que sirve como interfaz entre la base fija y la columna giratoria. Permite la rotación de 360 grados de la superestructura mientras mantiene la estabilidad y distribuye las cargas uniformemente."
  },
  5: {
    title: "Columna",
    description: "Estructura vertical que conecta el platillo con el brazo principal. Proporciona la altura necesaria y transfiere todas las fuerzas y momentos desde los brazos articulados hacia la base de la grúa."
  },
  6: {
    title: "Cilindro Principal",
    description: "Actuador hidráulico de mayor capacidad que controla el movimiento de elevación y descenso del brazo principal. Es responsable de levantar las cargas principales y posicionar el brazo en el ángulo deseado."
  },
  7: {
    title: "Brazo Principal",
    description: "Primer segmento articulado de la pluma, conectado directamente a la columna. Proporciona el alcance inicial y soporta el peso de todos los componentes posteriores, incluyendo el brazo secundario y la carga."
  },
  8: {
    title: "Cilindro Secundario",
    description: "Actuador hidráulico que controla la articulación entre el brazo principal y secundario. Permite ajustar el ángulo del brazo secundario para optimizar el posicionamiento de la carga y el alcance de la grúa."
  },
  9: {
    title: "Brazo Secundario",
    description: "Segundo segmento articulado que se conecta al brazo principal. Proporciona flexibilidad adicional en el posicionamiento y permite alcanzar espacios que serían inaccesibles con un brazo rígido convencional."
  },
  10: {
    title: "Brazos Extensibles",
    description: "Secciones telescópicas que se extienden desde el brazo secundario para aumentar el alcance de la grúa. Permiten ajustar la longitud total de la pluma según las necesidades específicas de cada operación de elevación."
  },
  11: {
    title: "Cilindros de Brazos Extensibles",
    description: "Actuadores hidráulicos especializados que controlan la extensión y retracción de los brazos telescópicos. Proporcionan la fuerza necesaria para extender las secciones bajo carga y mantener la rigidez estructural."
  },
  12: {
    title: "Prolonga Manual",
    description: "Extensión adicional que se puede instalar manualmente en el extremo de los brazos extensibles. Aumenta el alcance máximo de la grúa para aplicaciones específicas que requieren mayor distancia de trabajo."
  },
  13: {
    title: "Prolonga Hidráulica",
    description: "Extensión controlada hidráulicamente que se monta en el extremo del sistema de brazos. Ofrece ajuste preciso de la longitud final y puede operarse desde la cabina del operador para mayor eficiencia y seguridad."
  },
  14: {
    title: "Estabilizador Suplementario",
    description: "Sistema de estabilización adicional que se puede desplegar cuando se requiere mayor estabilidad. Especialmente útil en operaciones con cargas pesadas o en terrenos irregulares donde la estabilidad estándar no es suficiente."
  },
  15: {
    title: "Sistema Cabrestante",
    description: "Mecanismo de poleas y cable ubicado en el extremo de la grúa que permite el control preciso del descenso y elevación de cargas. Incluye sistemas de frenado y control de velocidad para operaciones seguras y precisas."
  }
};

let activeComponent = null;

function showComponentInfo(componentId) {
  const info = componentInfo[componentId];
  if (!info) return;
  
  document.getElementById('info-title').textContent = info.title;
  document.getElementById('info-description').textContent = info.description;
  
  // Remove previous active states
  document.querySelectorAll('.grua-component.active').forEach(el => {
    el.classList.remove('active');
  });
  document.querySelectorAll('.grua-component-item.active').forEach(el => {
    el.classList.remove('active');
  });
  
  // Add active state to current component
  document.querySelectorAll(`[data-component="${componentId}"]`).forEach(el => {
    el.classList.add('active');
  });
  
  activeComponent = componentId;
}

function resetView() {
  document.querySelectorAll('.grua-component.active').forEach(el => {
    el.classList.remove('active');
  });
  document.querySelectorAll('.grua-component-item.active').forEach(el => {
    el.classList.remove('active');
  });
  
  document.getElementById('info-title').textContent = 'Selecciona un componente';
  document.getElementById('info-description').textContent = 'Haz clic en cualquier elemento del diagrama o en la lista para conocer más detalles sobre cada componente de la grúa articulada.';
  
  activeComponent = null;
}

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
  // SVG components click handlers
  document.querySelectorAll('.grua-component').forEach(component => {
    component.addEventListener('click', function() {
      const componentId = this.getAttribute('data-component');
      if (componentId !== null) {
        showComponentInfo(parseInt(componentId));
      }
    });
  });
  
  // List items click handlers
  document.querySelectorAll('.grua-component-item').forEach(item => {
    item.addEventListener('click', function() {
      const componentId = this.getAttribute('data-component');
      if (componentId !== null) {
        showComponentInfo(parseInt(componentId));
      }
    });
  });
  
  // Reset button
  document.getElementById('reset-btn').addEventListener('click', resetView);
  
  // Touch events for mobile
  document.querySelectorAll('.grua-component, .grua-component-item').forEach(element => {
    element.addEventListener('touchstart', function(e) {
      e.preventDefault();
      this.click();
    });
  });
});
</script>


  <!-- Botón de continuar -->
  <button class="start-button" onclick="goToNextPage()">Continuar <span class="arrow">❯</span></button>

  <!--AUDIOv2-->
  <div class="audio-control-wrapper" style="z-index: 9999;">
      <button class="audio-toggle-btn" id="audioToggle">
          <svg id="togglePlayIcon" viewBox="0 0 24 24">
              <path d="M8 5v14l11-7z" />
          </svg>
          <svg id="togglePauseIcon" viewBox="0 0 24 24" style="display: none">
              <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
          </svg>
      </button>

      <div class="audio-controls" id="audioControls">
          <div class="custom-audio-player">
              <div class="audio-main-controls">
                  <button class="control-btn volume-btn" id="volumeToggle">
                      <svg id="volumeIcon" viewBox="0 0 24 24">
                          <path
                              d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z" />
                      </svg>
                      <svg id="muteIcon" viewBox="0 0 24 24" style="display: none">
                          <path
                              d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" />
                      </svg>
                  </button>

                  <button class="control-btn play-pause-btn" id="playPauseBtn">
                      <svg id="playIcon" viewBox="0 0 24 24">
                          <path d="M8 5v14l11-7z" />
                      </svg>
                      <svg id="pauseIcon" viewBox="0 0 24 24" style="display: none">
                          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                      </svg>
                  </button>

                  <button class="control-btn speed-btn" id="speedBtn">
                      <svg viewBox="0 0 24 24">
                          <path
                              d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z" />
                          <path
                              d="M10.59 15.41a2 2 0 0 0 2.83 0l5.66-5.66a2 2 0 0 0-2.83-2.83L12 11.17 7.76 6.93a2 2 0 0 0-2.83 2.83l5.66 5.65z" />
                      </svg>
                  </button>
              </div>

              <div class="progress-container">
                  <div class="progress-bar" id="progressBar">
                      <div class="progress-fill" id="progressFill"></div>
                  </div>
                  <div class="time-display">
                      <span id="currentTime">0:00</span>
                      <span id="duration">0:00</span>
                  </div>
              </div>

              <div class="volume-control">
                  <div class="volume-slider" id="volumeSlider">
                      <div class="volume-fill" id="volumeFill"></div>
                  </div>
                  <div class="speed-control">
                      <span class="speed-display" id="speedDisplay">1x</span>
                  </div>
              </div>
          </div>

          <!-- Audio element oculto -->
          <audio id="audioPlayer" preload="metadata" autoplay>
              <source src="../assets/audio/EX/ex2.wav" type="audio/mp3" />
              Tu navegador no soporta el elemento de audio.
          </audio>
      </div>
  </div>

  <script src="../../js/audioPlayer.js"></script>
  <!--///////-->
  <!-- Scripts funcionales -->
  <script src="../../js/SCORM.js"></script>
  <script>
    // Navegación
    function goHome() { window.location.href = 'index.html'; }
    function backPage() { window.location.href = 'M2_pg1.html'; }
    function goToNextPage() { window.location.href = 'M2_pg3.html'; }

    ScormManager.init();
    ScormManager.guardarProgreso("M1_pg1.html");

    document.addEventListener("DOMContentLoaded", () => {
      const progreso = ScormManager.cargarProgreso();
      const porcentaje = progreso.score ? parseInt(progreso.score) : 0;
      document.getElementById("progreso-barra").style.width = porcentaje + "%";
      document.getElementById("progreso-texto").textContent = porcentaje + "%";
    });
  </script>

</body>
</html>
